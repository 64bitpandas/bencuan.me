---
import { getCollection } from 'astro:content';
import BlogLayout from '../components/BlogLayout.astro';
import { ColorDot } from '../components/colorDot.tsx';
import {
  ResearchBanner,
  TopicBadge,
  BigQuestionsBox,
  ReadingListBox,
  SectionWrapper,
} from '../components/research-syllabus';

export const prerender = true;
export async function getStaticPaths() {
  const entries = await getCollection('root');
  return entries.map(entry => ({
    params: { root: entry.slug },
    props: { entry },
  }));
}
const { entry } = Astro.props;
const isResearchPage = entry.slug === 'research';
---

<BlogLayout
  entry={entry}
  currPage={entry.data.title}
  extraComponents={{
    ColorDot,
    ResearchBanner,
    TopicBadge,
    BigQuestionsBox,
    ReadingListBox,
    SectionWrapper,
  }}
  showToc={false}
  showComments={false}
  contentClass={isResearchPage ? 'research-page' : ''}
  bodyClass={isResearchPage ? 'research-body' : ''}
/>
